@model WebApp.DTO_Models.Final.ExaminationQuestionView


<form asp-action="" style="w"></form>


<h1 style="margin:0 auto;width:50%">ExamSystem</h1>

<div>
    <h3 id="h">Question @Model.CurrentQuestion.QuestionId:</h3>
    <p id="p">@Model.CurrentQuestion.QuestionDisplay</p>




    <div id="answer-list">
        
        @foreach (var item in Model.Questions[0].PossibleAnswers)
        {

            <p>@item.QuestionPossibleAnswer</p>
        } 
    </div>




    <button id="previous">Previous</button>
    <button id="next">Next</button>
</div>

@*<form asp-action="StartExamination" style="width:auto; margin:auto;border: 1px solid black;padding: 10px;display: inline-block; ">

    <div class="form-group">
        <label asp-for="@Model." class="control-label">Question</label>
        <div>@Html.Raw(Model.Question.Display)</div>
    </div>


    <div class="form-group">
        <input type="submit" value="YES" class="btn btn-primary" />
    </div>
</form>*@


<script>

    var questions = @Html.Raw(Json.Serialize(Model.Questions));
    var currentIndex = 0;


    $("#previous").click(function () {
        if (currentIndex > 0) {
            currentIndex--;
            updateQuestion();
        }
    });
    $("#next").click(function () {
        if (currentIndex < questions.length - 1) {
            currentIndex++;
            updateQuestion();
        }
    });
    function updateQuestion() {

        //document.getElementById("p").innerText=(questions[currentIndex].questionDisplay);
        document.getElementById("h").innerText = "Question " + questions[currentIndex].questionId;
        document.getElementById("p").innerText = questions[currentIndex].questionDisplay;

        var answerList = document.getElementById("answer-list");
        answerList.innerHTML = "";
        for (var i = 0; i < questions[currentIndex].possibleAnswers.length; i++) {
            var answer = questions[currentIndex].possibleAnswers[i].questionPossibleAnswer[i];
            answerList.innerHTML += "<p>"+answer+"</p>";
            
        }




    }



</script>

